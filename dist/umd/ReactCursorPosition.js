!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactCursorPosition=t(require("react")):e.ReactCursorPosition=t(e.React)}(self,(e=>(()=>{var t={694:(e,t,s)=>{"use strict";var i=s(925);function o(){}function n(){}n.resetWarningCache=o,e.exports=function(){function e(e,t,s,o,n,r){if(r!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:o};return s.PropTypes=s,s}},556:(e,t,s)=>{e.exports=s(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},295:t=>{"use strict";t.exports=e}},s={};function i(e){var o=s[e];if(void 0!==o)return o.exports;var n=s[e]={exports:{}};return t[e](n,n.exports,i),n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";i.r(o),i.d(o,{INTERACTIONS:()=>h,default:()=>E});var e=i(295),t=i.n(e),s=i(556),n=i.n(s);class r{constructor(e){this.el=e}getDocumentRelativeElementOffset(e){var t=this.getRootOfEl(e),{left:s,top:i}=t.getBoundingClientRect(),{left:o,top:n}=e.getBoundingClientRect();return{x:Math.abs(s)+o,y:Math.abs(i)+n}}getRootOfEl(e){return e.parentElement?this.getRootOfEl(e.parentElement):e}getComputedElementRelativeCursorPosition(e,t){this.lastEvent=e;var s=this.getDocumentRelativeCursorPosition(e),{x:i,y:o}=s,{x:n,y:r}=t;return{x:Math.round(i-n),y:Math.round(o-r)}}getDocumentRelativeCursorPosition(e){return{x:e.pageX,y:e.pageY}}get documentRelativeElementOffset(){return this.elementOffset||(this.elementOffset=this.getDocumentRelativeElementOffset(this.el)),this.elementOffset}getCursorPosition(e){return this.getComputedElementRelativeCursorPosition(e,this.documentRelativeElementOffset)}}function a(e,t,s,i){return e.addEventListener(t,s,i),{removeEventListener:()=>{e.removeEventListener(t,s,i)}}}var h={TOUCH:"touch",TAP:"tap",DOUBLE_TAP:"double_tap",PRESS:"press",CLICK:"click",HOVER:"hover"};const c=()=>{};class u{constructor(){var{onIsActiveChanged:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"!=typeof e)throw new Error("onIsActiveChanged should be a function");this.onIsActiveChanged=e,this.isActive=!1,this.timers=[]}activate(){this.isActive=!0,this.onIsActiveChanged({isActive:!0})}deactivate(){this.isActive=!1,this.onIsActiveChanged({isActive:!1}),this.clearTimers()}toggleActivation(){this.isActive?this.deactivate():this.activate()}clearTimers(){for(var e=this.timers;e.length;){var t=e.pop();clearTimeout(t.id)}}clearTimer(e){this.timers.forEach((t=>{t.name===e&&clearTimeout(t.id)}))}}class d extends u{constructor(e){var{onIsActiveChanged:t}=e;super({onIsActiveChanged:t}),this.initialElTop=0,this.currentElTop=0}touchStarted(){}touchMoved(){}touchEnded(){this.deactivate()}touchCanceled(){this.deactivate()}}class v extends d{constructor(e){var{onIsActiveChanged:t,pressDurationInMs:s,pressMoveThreshold:i}=e;super({onIsActiveChanged:t}),this.pressDurationInMs=s,this.pressMoveThreshold=i}touchStarted(e){var{position:t}=e;this.initPressEventCriteria(t),this.setPressEventTimer()}touchMoved(e){var{position:t}=e;this.isActive||this.setPressEventCriteria(t)}setPressEventTimer(){this.timers.push({name:"pressEvent",id:setTimeout((()=>{Math.abs(this.currentElTop-this.initialElTop)<this.pressMoveThreshold&&this.activate()}),this.pressDurationInMs)})}setPressEventCriteria(e){this.currentElTop=e.y}initPressEventCriteria(e){var t=e.y;this.initialElTop=t,this.currentElTop=t}}class l extends d{constructor(e){var{onIsActiveChanged:t}=e;super({onIsActiveChanged:t})}touchStarted(e){var{e:t}=e;t.preventDefault(),this.activate()}}class p extends d{constructor(e){var{onIsActiveChanged:t,tapDurationInMs:s,tapMoveThreshold:i}=e;super({onIsActiveChanged:t}),this.hasTapGestureEnded=!1,this.tapDurationInMs=s,this.tapMoveThreshold=i}touchStarted(e){var{position:t}=e;this.hasTapGestureEnded=!1,this.initMoveThreshold(t),this.setTapEventTimer()}touchMoved(e){var{position:t}=e;this.isActive||this.setMoveThresholdCriteria(t)}touchEnded(){this.hasTapGestureEnded=!0}get hasPassedMoveThreshold(){return Math.abs(this.currentElTop-this.initialElTop)>this.tapMoveThreshold}get isTapGestureActive(){return!this.hasPassedMoveThreshold&&this.hasTapGestureEnded}setTapEventTimer(){this.timers.push({name:"tap",id:setTimeout((()=>{this.isTapGestureActive&&this.toggleActivation()}),this.tapDurationInMs)})}setMoveThresholdCriteria(e){this.currentElTop=e.y}initMoveThreshold(e){var t=e.y;this.initialElTop=t,this.currentElTop=t}}class m extends u{constructor(e){var{onIsActiveChanged:t}=e;super({onIsActiveChanged:t})}mouseEntered(){}mouseMoved(){}mouseLeft(){}mouseClicked(){}}class g extends m{constructor(e){var{onIsActiveChanged:t,hoverDelayInMs:s,hoverOffDelayInMs:i}=e;super({onIsActiveChanged:t}),this.hoverDelayInMs=s,this.hoverOffDelayInMs=i}mouseEntered(){this.clearTimers(),this.schedulActivation(this.hoverDelayInMs)}mouseLeft(){this.clearTimers(),this.scheduleDeactivation(this.hoverOffDelayInMs)}schedulActivation(e){var t=setTimeout((()=>{this.activate()}),e);this.timers.push({id:t,name:"setHovering"})}scheduleDeactivation(e){var t=setTimeout((()=>{this.deactivate()}),e);this.timers.push({id:t,name:"unsetHovering"})}}class C extends m{constructor(e){var{onIsActiveChanged:t}=e;super({onIsActiveChanged:t})}mouseClicked(){this.toggleActivation()}}function T(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class E extends t().Component{constructor(e){super(e),T(this,"onPositionChanged",(()=>{var{onPositionChanged:e}=this.props;e(this.state)})),this.state={detectedEnvironment:{isMouseDetected:!1,isTouchDetected:!1},elementDimensions:{width:0,height:0},isActive:!1,isPositionOutside:!0,position:{x:0,y:0}},this.shouldGuardAgainstMouseEmulationByDevices=!1,this.eventListeners=[],this.timers=[],this.elementOffset={x:0,y:0},this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchCancel=this.onTouchCancel.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onClick=this.onClick.bind(this),this.onIsActiveChanged=this.onIsActiveChanged.bind(this),this.setTouchActivationStrategy(e.activationInteractionTouch),this.setMouseActivationStrategy(e.activationInteractionMouse)}onIsActiveChanged(e){var{isActive:t}=e;t?this.activate():this.deactivate()}onTouchStart(e){this.init(),this.onTouchDetected(),this.setShouldGuardAgainstMouseEmulationByDevices();var t=this.core.getCursorPosition(this.getTouchEvent(e));this.setPositionState(t),this.touchActivation.touchStarted({e,position:t})}onTouchMove(e){if(this.isCoreReady){var t=this.core.getCursorPosition(this.getTouchEvent(e));this.touchActivation.touchMoved({e,position:t}),this.state.isActive&&(this.setPositionState(t),e.preventDefault(),this.props.shouldStopTouchMovePropagation&&e.stopPropagation())}}onTouchEnd(){this.touchActivation.touchEnded(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}onTouchCancel(){this.touchActivation.touchCanceled(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}onMouseEnter(e){this.shouldGuardAgainstMouseEmulationByDevices||(this.init(),this.onMouseDetected(),this.setPositionState(this.core.getCursorPosition(e)),this.mouseActivation.mouseEntered())}onMouseMove(e){if(this.isCoreReady){var t=this.core.getCursorPosition(e);this.setPositionState(t),this.mouseActivation.mouseMoved(t)}}onMouseLeave(){this.mouseActivation.mouseLeft(),this.setState({isPositionOutside:!0})}onClick(e){this.setPositionState(this.core.getCursorPosition(e)),this.mouseActivation.mouseClicked(),this.onMouseDetected()}onTouchDetected(){var e={isTouchDetected:!0,isMouseDetected:!1};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}onMouseDetected(){var e={isTouchDetected:!1,isMouseDetected:!0};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}componentDidMount(){this.props.isEnabled&&this.enable()}componentWillReceiveProps(e){var{isEnabled:t}=e,{isEnabled:s}=this.props;s!==t&&(t?this.enable():this.disable())}componentWillUnmount(){this.disable()}get isCoreReady(){return!!this.core}enable(){this.addEventListeners()}disable(){this.removeEventListeners()}init(){this.core=new r(this.el),this.setElementDimensionsState(this.getElementDimensions(this.el))}setTouchActivationStrategy(e){var{pressDurationInMs:t,pressMoveThreshold:s,tapDurationInMs:i,tapMoveThreshold:o}=this.props,{TOUCH:n,TAP:r,PRESS:a}=h;switch(e){case a:this.touchActivation=new v({onIsActiveChanged:this.onIsActiveChanged,pressDurationInMs:t,pressMoveThreshold:s});break;case r:this.touchActivation=new p({onIsActiveChanged:this.onIsActiveChanged,tapDurationInMs:i,tapMoveThreshold:o});break;case n:this.touchActivation=new l({onIsActiveChanged:this.onIsActiveChanged});break;default:throw new Error("Must implement a touch activation strategy")}}setMouseActivationStrategy(e){var{hoverDelayInMs:t,hoverOffDelayInMs:s}=this.props,{HOVER:i,CLICK:o}=h;switch(e){case i:this.mouseActivation=new g({onIsActiveChanged:this.onIsActiveChanged,hoverDelayInMs:t,hoverOffDelayInMs:s});break;case o:this.mouseActivation=new C({onIsActiveChanged:this.onIsActiveChanged});break;default:throw new Error("Must implement a mouse activation strategy")}}reset(){var{core:{lastEvent:e}={}}=this;this.init(),e&&this.setPositionState(this.core.getCursorPosition(e))}activate(){this.setState({isActive:!0}),this.props.onActivationChanged({isActive:!0})}deactivate(){this.setState({isActive:!1},(()=>{var{isPositionOutside:e,position:t}=this.state;this.props.onPositionChanged({isPositionOutside:e,position:t}),this.props.onActivationChanged({isActive:!1})}))}setPositionState(e){var t=this.getIsPositionOutside(e);this.setState({isPositionOutside:t,position:e},this.onPositionChanged)}setElementDimensionsState(e){this.setState({elementDimensions:e})}setShouldGuardAgainstMouseEmulationByDevices(){this.shouldGuardAgainstMouseEmulationByDevices=!0}unsetShouldGuardAgainstMouseEmulationByDevices(){this.timers.push({name:"mouseEmulation",id:setTimeout((()=>{this.shouldGuardAgainstMouseEmulationByDevices=!1}),0)})}getElementDimensions(e){var{width:t,height:s}=e.getBoundingClientRect();return{width:t,height:s}}getIsPositionOutside(e){var{x:t,y:s}=e,{elementDimensions:{width:i,height:o}}=this.state;return t<0||s<0||t>i||s>o}getTouchEvent(e){return e.touches[0]}getIsReactComponent(e){return"function"==typeof e.type}shouldDecorateChild(e){return!!e&&this.getIsReactComponent(e)&&this.props.shouldDecorateChildren}decorateChild(t,s){return(0,e.cloneElement)(t,s)}decorateChildren(t,s){return e.Children.map(t,(e=>this.shouldDecorateChild(e)?this.decorateChild(e,s):e))}addEventListeners(){this.eventListeners.push(a(this.el,"touchstart",this.onTouchStart,{passive:!1}),a(this.el,"touchmove",this.onTouchMove,{passive:!1}),a(this.el,"touchend",this.onTouchEnd),a(this.el,"touchcancel",this.onTouchCancel),a(this.el,"mouseenter",this.onMouseEnter),a(this.el,"mousemove",this.onMouseMove),a(this.el,"mouseleave",this.onMouseLeave),a(this.el,"click",this.onClick))}removeEventListeners(){for(;this.eventListeners.length;)this.eventListeners.pop().removeEventListener()}getPassThroughProps(){return Object.keys(this.props).reduce(((e,t)=>(Object.keys(this.constructor.propTypes).includes(t)||(e[t]=this.props[t]),e)),{})}render(){var{children:e,className:s,mapChildProps:i,style:o}=this.props,n=Object.assign({},i(this.state),this.getPassThroughProps());return t().createElement("div",{className:s,ref:e=>this.el=e,style:Object.assign({},o,{WebkitUserSelect:"none"})},this.decorateChildren(e,n))}}T(E,"displayName","ReactCursorPosition"),T(E,"propTypes",{activationInteractionMouse:n().oneOf([h.CLICK,h.HOVER]),activationInteractionTouch:n().oneOf([h.PRESS,h.TAP,h.TOUCH]),children:n().any,className:n().string,hoverDelayInMs:n().number,hoverOffDelayInMs:n().number,isEnabled:n().bool,mapChildProps:n().func,onActivationChanged:n().func,onDetectedEnvironmentChanged:n().func,onPositionChanged:n().func,pressDurationInMs:n().number,pressMoveThreshold:n().number,shouldDecorateChildren:n().bool,shouldStopTouchMovePropagation:n().bool,style:n().object,tapDurationInMs:n().number,tapMoveThreshold:n().number}),T(E,"defaultProps",{activationInteractionMouse:h.HOVER,activationInteractionTouch:h.PRESS,hoverDelayInMs:0,hoverOffDelayInMs:0,isEnabled:!0,mapChildProps:e=>e,onActivationChanged:c,onDetectedEnvironmentChanged:c,onPositionChanged:c,pressDurationInMs:500,pressMoveThreshold:5,shouldDecorateChildren:!0,shouldStopTouchMovePropagation:!1,tapDurationInMs:180,tapMoveThreshold:5})})(),o})()));